(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8581:function(e,r,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(4369)}])},4369:function(e,r,n){"use strict";n.r(r);var t=n(4051),a=n.n(t),o=n(5893),s=n(7294),i=n(464);function l(e,r,n,t,a,o,s){try{var i=e[o](s),l=i.value}catch(c){return void n(c)}i.done?r(l):Promise.resolve(l).then(t,a)}r.default=function(){var e=(0,s.useState)(""),r=e[0],n=e[1],t=(0,s.useState)(""),c=t[0],u=t[1],d=function(){var e,r=(e=a().mark((function e(r,n,t){var o,s,l;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"LOGIN"!==r){e.next=7;break}return e.next=4,i.OQ.auth.signInWithPassword({email:n,password:t});case 4:e.t0=e.sent,e.next=10;break;case 7:return e.next=9,i.OQ.auth.signUp({email:n,password:t});case 9:e.t0=e.sent;case 10:o=e.t0,s=o.error,l=o.data.user,s?alert("Error with auth: "+s.message):l||alert("Signup successful, confirmation mail should be sent soon!"),e.next=20;break;case 16:e.prev=16,e.t1=e.catch(0),console.log("error",e.t1),alert(e.t1.error_description||e.t1);case 20:case"end":return e.stop()}}),e,null,[[0,16]])})),function(){var r=this,n=arguments;return new Promise((function(t,a){var o=e.apply(r,n);function s(e){l(o,t,a,s,i,"next",e)}function i(e){l(o,t,a,s,i,"throw",e)}s(void 0)}))});return function(e,n,t){return r.apply(this,arguments)}}();return(0,o.jsx)("div",{className:"w-full h-full flex justify-center items-center p-4 bg-gray-300",children:(0,o.jsx)("div",{className:"w-full sm:w-1/2 xl:w-1/3",children:(0,o.jsxs)("div",{className:"border-teal p-8 border-t-12 bg-white mb-6 rounded-lg shadow-lg bg-white",children:[(0,o.jsxs)("div",{className:"mb-4",children:[(0,o.jsx)("label",{className:"font-bold text-grey-darker block mb-2",children:"Email"}),(0,o.jsx)("input",{type:"text",className:"block appearance-none w-full bg-white border border-grey-light hover:border-grey px-2 py-2 rounded shadow",placeholder:"Your Username",value:r,onChange:function(e){return n(e.target.value)}})]}),(0,o.jsxs)("div",{className:"mb-4",children:[(0,o.jsx)("label",{className:"font-bold text-grey-darker block mb-2",children:"Password"}),(0,o.jsx)("input",{type:"password",className:"block appearance-none w-full bg-white border border-grey-light hover:border-grey px-2 py-2 rounded shadow",placeholder:"Your password",value:c,onChange:function(e){return u(e.target.value)}})]}),(0,o.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,o.jsx)("a",{onClick:function(e){e.preventDefault(),d("SIGNUP",r,c)},href:"/channels",className:"bg-indigo-700 hover:bg-teal text-white py-2 px-4 rounded text-center transition duration-150 hover:bg-indigo-600 hover:text-white",children:"Sign up"}),(0,o.jsx)("a",{onClick:function(e){e.preventDefault(),d("LOGIN",r,c)},href:"/channels",className:"border border-indigo-700 text-indigo-700 py-2 px-4 rounded w-full text-center transition duration-150 hover:bg-indigo-700 hover:text-white",children:"Login"})]})]})})})}}},function(e){e.O(0,[774,888,179],(function(){return r=8581,e(e.s=r);var r}));var r=e.O();_N_E=r}]);