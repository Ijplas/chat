/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/_app";
exports.ids = ["pages/_app"];
exports.modules = {

/***/ "./lib/Store.js":
/*!**********************!*\
  !*** ./lib/Store.js ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"addChannel\": () => (/* binding */ addChannel),\n/* harmony export */   \"addMessage\": () => (/* binding */ addMessage),\n/* harmony export */   \"deleteChannel\": () => (/* binding */ deleteChannel),\n/* harmony export */   \"deleteMessage\": () => (/* binding */ deleteMessage),\n/* harmony export */   \"fetchChannels\": () => (/* binding */ fetchChannels),\n/* harmony export */   \"fetchMessages\": () => (/* binding */ fetchMessages),\n/* harmony export */   \"fetchUser\": () => (/* binding */ fetchUser),\n/* harmony export */   \"supabase\": () => (/* binding */ supabase),\n/* harmony export */   \"useStore\": () => (/* binding */ useStore)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @supabase/supabase-js */ \"@supabase/supabase-js\");\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_1__);\n\n\nconst supabase = (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_1__.createClient)(\"https://gdejmeuksufjzbconmlk.supabase.co\", \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImdkZWptZXVrc3VmanpiY29ubWxrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MjMyMzQwNDEsImV4cCI6MjAzODgxMDA0MX0.2yt32nGZrh6aD193Zh6zjEaIiQJs10aYZMJJHHUZET4\");\n/**\n * @param {number} channelId the currently selected Channel\n */ const useStore = (props)=>{\n    const { 0: channels , 1: setChannels  } = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n    const { 0: messages1 , 1: setMessages  } = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n    const { 0: users  } = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(new Map());\n    const { 0: newMessage , 1: handleNewMessage  } = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const { 0: newChannel , 1: handleNewChannel  } = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const { 0: newOrUpdatedUser , 1: handleNewOrUpdatedUser  } = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const { 0: deletedChannel , 1: handleDeletedChannel  } = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const { 0: deletedMessage , 1: handleDeletedMessage  } = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    // Load initial data and set up listeners\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        // Get Channels\n        fetchChannels(setChannels);\n        // Listen for new and deleted messages\n        const messageListener = supabase.channel(\"public:messages\").on(\"postgres_changes\", {\n            event: \"INSERT\",\n            schema: \"public\",\n            table: \"messages\"\n        }, (payload)=>handleNewMessage(payload.new)\n        ).on(\"postgres_changes\", {\n            event: \"DELETE\",\n            schema: \"public\",\n            table: \"messages\"\n        }, (payload)=>handleDeletedMessage(payload.old)\n        ).subscribe();\n        // Listen for changes to our users\n        const userListener = supabase.channel(\"public:users\").on(\"postgres_changes\", {\n            event: \"*\",\n            schema: \"public\",\n            table: \"users\"\n        }, (payload)=>handleNewOrUpdatedUser(payload.new)\n        ).subscribe();\n        // Listen for new and deleted channels\n        const channelListener = supabase.channel(\"public:channels\").on(\"postgres_changes\", {\n            event: \"INSERT\",\n            schema: \"public\",\n            table: \"channels\"\n        }, (payload)=>handleNewChannel(payload.new)\n        ).on(\"postgres_changes\", {\n            event: \"DELETE\",\n            schema: \"public\",\n            table: \"channels\"\n        }, (payload)=>handleDeletedChannel(payload.old)\n        ).subscribe();\n        // Cleanup on unmount\n        return ()=>{\n            supabase.removeChannel(supabase.channel(messageListener));\n            supabase.removeChannel(supabase.channel(userListener));\n            supabase.removeChannel(supabase.channel(channelListener));\n        };\n    }, []);\n    // Update when the route changes\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        if ((props === null || props === void 0 ? void 0 : props.channelId) > 0) {\n            fetchMessages(props.channelId, (messages)=>{\n                messages.forEach((x)=>users.set(x.user_id, x.author)\n                );\n                setMessages(messages);\n            });\n        }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [\n        props.channelId\n    ]);\n    // New message received from Postgres\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        if (newMessage && newMessage.channel_id === Number(props.channelId)) {\n            const handleAsync = async ()=>{\n                let authorId = newMessage.user_id;\n                if (!users.get(authorId)) await fetchUser(authorId, (user)=>handleNewOrUpdatedUser(user)\n                );\n                setMessages(messages1.concat(newMessage));\n            };\n            handleAsync();\n        }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [\n        newMessage\n    ]);\n    // Deleted message received from postgres\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        if (deletedMessage) setMessages(messages1.filter((message)=>message.id !== deletedMessage.id\n        ));\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [\n        deletedMessage\n    ]);\n    // New channel received from Postgres\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        if (newChannel) setChannels(channels.concat(newChannel));\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [\n        newChannel\n    ]);\n    // Deleted channel received from postgres\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        if (deletedChannel) setChannels(channels.filter((channel)=>channel.id !== deletedChannel.id\n        ));\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [\n        deletedChannel\n    ]);\n    // New or updated user received from Postgres\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        if (newOrUpdatedUser) users.set(newOrUpdatedUser.id, newOrUpdatedUser);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [\n        newOrUpdatedUser\n    ]);\n    return {\n        // We can export computed values here to map the authors to each message\n        messages: messages1.map((x)=>({\n                ...x,\n                author: users.get(x.user_id)\n            })\n        ),\n        channels: channels !== null ? channels.sort((a, b)=>a.slug.localeCompare(b.slug)\n        ) : [],\n        users\n    };\n};\n/**\n * Fetch all channels\n * @param {function} setState Optionally pass in a hook or callback to set the state\n */ const fetchChannels = async (setState)=>{\n    try {\n        let { data  } = await supabase.from(\"channels\").select(\"*\");\n        if (setState) setState(data);\n        return data;\n    } catch (error) {\n        console.log(\"error\", error);\n    }\n};\n/**\n * Fetch a single user\n * @param {number} userId\n * @param {function} setState Optionally pass in a hook or callback to set the state\n */ const fetchUser = async (userId, setState)=>{\n    try {\n        let { data  } = await supabase.from(\"users\").select(`*`).eq(\"id\", userId);\n        let user = data[0];\n        if (setState) setState(user);\n        return user;\n    } catch (error) {\n        console.log(\"error\", error);\n    }\n};\n/**\n * Fetch all messages and their authors\n * @param {number} channelId\n * @param {function} setState Optionally pass in a hook or callback to set the state\n */ const fetchMessages = async (channelId, setState)=>{\n    try {\n        let { data  } = await supabase.from(\"messages\").select(`*, author:user_id(*)`).eq(\"channel_id\", channelId).order(\"inserted_at\", {\n            ascending: true\n        });\n        if (setState) setState(data);\n        return data;\n    } catch (error) {\n        console.log(\"error\", error);\n    }\n};\n/**\n * Insert a new channel into the DB\n * @param {string} slug The channel name\n * @param {number} user_id The channel creator\n */ const addChannel = async (slug, user_id)=>{\n    try {\n        let { data  } = await supabase.from(\"channels\").insert([\n            {\n                slug,\n                created_by: user_id\n            }\n        ]).select();\n        return data;\n    } catch (error) {\n        console.log(\"error\", error);\n    }\n};\n/**\n * Insert a new message into the DB\n * @param {string} message The message text\n * @param {number} channel_id\n * @param {number} user_id The author\n */ const addMessage = async (message, channel_id, user_id)=>{\n    try {\n        let { data  } = await supabase.from(\"messages\").insert([\n            {\n                message,\n                channel_id,\n                user_id\n            }\n        ]).select();\n        return data;\n    } catch (error) {\n        console.log(\"error\", error);\n    }\n};\n/**\n * Delete a channel from the DB\n * @param {number} channel_id\n */ const deleteChannel = async (channel_id)=>{\n    try {\n        let { data  } = await supabase.from(\"channels\").delete().match({\n            id: channel_id\n        });\n        return data;\n    } catch (error) {\n        console.log(\"error\", error);\n    }\n};\n/**\n * Delete a message from the DB\n * @param {number} message_id\n */ const deleteMessage = async (message_id)=>{\n    try {\n        let { data  } = await supabase.from(\"messages\").delete().match({\n            id: message_id\n        });\n        return data;\n    } catch (error) {\n        console.log(\"error\", error);\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUcsQ0FBQyxPQUFPLEVBQUVGLEtBQUssQ0FBQztLQUM1QjtDQUNGO0FBRUQ7OztHQUdHLENBQ0ksTUFBTWMsYUFBYSxHQUFHLE9BQU9DLFVBQVUsR0FBSztJQUNqRCxJQUFJO1FBQ0YsSUFBSSxFQUFFbEIsSUFBSSxHQUFFLEdBQUcsTUFBTTlELFFBQVEsQ0FBQytELElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQ2MsTUFBTSxFQUFFLENBQUNDLEtBQUssQ0FBQztZQUFFeEIsRUFBRSxFQUFFMEIsVUFBVTtTQUFFLENBQUM7UUFDakYsT0FBT2xCLElBQUk7S0FDWixDQUFDLE9BQU9HLEtBQUssRUFBRTtRQUNkQyxPQUFPLENBQUNDLEdBQUcsQ0FBQyxPQUFPLEVBQUVGLEtBQUssQ0FBQztLQUM1QjtDQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3VwYWJhc2Utc2xhY2stY2xvbmUtYmFzaWMvLi9saWIvU3RvcmUuanM/ZDE0ZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgeyBjcmVhdGVDbGllbnQgfSBmcm9tICdAc3VwYWJhc2Uvc3VwYWJhc2UtanMnXG5cbmV4cG9ydCBjb25zdCBzdXBhYmFzZSA9IGNyZWF0ZUNsaWVudChcbiAgcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMLFxuICBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9BTk9OX0tFWVxuKVxuXG4vKipcbiAqIEBwYXJhbSB7bnVtYmVyfSBjaGFubmVsSWQgdGhlIGN1cnJlbnRseSBzZWxlY3RlZCBDaGFubmVsXG4gKi9cbmV4cG9ydCBjb25zdCB1c2VTdG9yZSA9IChwcm9wcykgPT4ge1xuICBjb25zdCBbY2hhbm5lbHMsIHNldENoYW5uZWxzXSA9IHVzZVN0YXRlKFtdKVxuICBjb25zdCBbbWVzc2FnZXMsIHNldE1lc3NhZ2VzXSA9IHVzZVN0YXRlKFtdKVxuICBjb25zdCBbdXNlcnNdID0gdXNlU3RhdGUobmV3IE1hcCgpKVxuICBjb25zdCBbbmV3TWVzc2FnZSwgaGFuZGxlTmV3TWVzc2FnZV0gPSB1c2VTdGF0ZShudWxsKVxuICBjb25zdCBbbmV3Q2hhbm5lbCwgaGFuZGxlTmV3Q2hhbm5lbF0gPSB1c2VTdGF0ZShudWxsKVxuICBjb25zdCBbbmV3T3JVcGRhdGVkVXNlciwgaGFuZGxlTmV3T3JVcGRhdGVkVXNlcl0gPSB1c2VTdGF0ZShudWxsKVxuICBjb25zdCBbZGVsZXRlZENoYW5uZWwsIGhhbmRsZURlbGV0ZWRDaGFubmVsXSA9IHVzZVN0YXRlKG51bGwpXG4gIGNvbnN0IFtkZWxldGVkTWVzc2FnZSwgaGFuZGxlRGVsZXRlZE1lc3NhZ2VdID0gdXNlU3RhdGUobnVsbClcblxuICAvLyBMb2FkIGluaXRpYWwgZGF0YSBhbmQgc2V0IHVwIGxpc3RlbmVyc1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIC8vIEdldCBDaGFubmVsc1xuICAgIGZldGNoQ2hhbm5lbHMoc2V0Q2hhbm5lbHMpXG4gICAgLy8gTGlzdGVuIGZvciBuZXcgYW5kIGRlbGV0ZWQgbWVzc2FnZXNcbiAgICBjb25zdCBtZXNzYWdlTGlzdGVuZXIgPSBzdXBhYmFzZVxuICAgICAgLmNoYW5uZWwoJ3B1YmxpYzptZXNzYWdlcycpXG4gICAgICAub24oJ3Bvc3RncmVzX2NoYW5nZXMnLCB7IGV2ZW50OiAnSU5TRVJUJywgc2NoZW1hOiAncHVibGljJywgdGFibGU6ICdtZXNzYWdlcycgfSwgKHBheWxvYWQpID0+XG4gICAgICAgIGhhbmRsZU5ld01lc3NhZ2UocGF5bG9hZC5uZXcpXG4gICAgICApXG4gICAgICAub24oJ3Bvc3RncmVzX2NoYW5nZXMnLCB7IGV2ZW50OiAnREVMRVRFJywgc2NoZW1hOiAncHVibGljJywgdGFibGU6ICdtZXNzYWdlcycgfSwgKHBheWxvYWQpID0+XG4gICAgICAgIGhhbmRsZURlbGV0ZWRNZXNzYWdlKHBheWxvYWQub2xkKVxuICAgICAgKVxuICAgICAgLnN1YnNjcmliZSgpXG4gICAgLy8gTGlzdGVuIGZvciBjaGFuZ2VzIHRvIG91ciB1c2Vyc1xuICAgIGNvbnN0IHVzZXJMaXN0ZW5lciA9IHN1cGFiYXNlXG4gICAgICAuY2hhbm5lbCgncHVibGljOnVzZXJzJylcbiAgICAgIC5vbigncG9zdGdyZXNfY2hhbmdlcycsIHsgZXZlbnQ6ICcqJywgc2NoZW1hOiAncHVibGljJywgdGFibGU6ICd1c2VycycgfSwgKHBheWxvYWQpID0+XG4gICAgICAgIGhhbmRsZU5ld09yVXBkYXRlZFVzZXIocGF5bG9hZC5uZXcpXG4gICAgICApXG4gICAgICAuc3Vic2NyaWJlKClcbiAgICAvLyBMaXN0ZW4gZm9yIG5ldyBhbmQgZGVsZXRlZCBjaGFubmVsc1xuICAgIGNvbnN0IGNoYW5uZWxMaXN0ZW5lciA9IHN1cGFiYXNlXG4gICAgICAuY2hhbm5lbCgncHVibGljOmNoYW5uZWxzJylcbiAgICAgIC5vbigncG9zdGdyZXNfY2hhbmdlcycsIHsgZXZlbnQ6ICdJTlNFUlQnLCBzY2hlbWE6ICdwdWJsaWMnLCB0YWJsZTogJ2NoYW5uZWxzJyB9LCAocGF5bG9hZCkgPT5cbiAgICAgICAgaGFuZGxlTmV3Q2hhbm5lbChwYXlsb2FkLm5ldylcbiAgICAgIClcbiAgICAgIC5vbigncG9zdGdyZXNfY2hhbmdlcycsIHsgZXZlbnQ6ICdERUxFVEUnLCBzY2hlbWE6ICdwdWJsaWMnLCB0YWJsZTogJ2NoYW5uZWxzJyB9LCAocGF5bG9hZCkgPT5cbiAgICAgICAgaGFuZGxlRGVsZXRlZENoYW5uZWwocGF5bG9hZC5vbGQpXG4gICAgICApXG4gICAgICAuc3Vic2NyaWJlKClcbiAgICAvLyBDbGVhbnVwIG9uIHVubW91bnRcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgc3VwYWJhc2UucmVtb3ZlQ2hhbm5lbChzdXBhYmFzZS5jaGFubmVsKG1lc3NhZ2VMaXN0ZW5lcikpXG4gICAgICBzdXBhYmFzZS5yZW1vdmVDaGFubmVsKHN1cGFiYXNlLmNoYW5uZWwodXNlckxpc3RlbmVyKSlcbiAgICAgIHN1cGFiYXNlLnJlbW92ZUNoYW5uZWwoc3VwYWJhc2UuY2hhbm5lbChjaGFubmVsTGlzdGVuZXIpKVxuICAgIH1cbiAgfSwgW10pXG5cbiAgLy8gVXBkYXRlIHdoZW4gdGhlIHJvdXRlIGNoYW5nZXNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAocHJvcHM/LmNoYW5uZWxJZCA+IDApIHtcbiAgICAgIGZldGNoTWVzc2FnZXMocHJvcHMuY2hhbm5lbElkLCAobWVzc2FnZXMpID0+IHtcbiAgICAgICAgbWVzc2FnZXMuZm9yRWFjaCgoeCkgPT4gdXNlcnMuc2V0KHgudXNlcl9pZCwgeC5hdXRob3IpKVxuICAgICAgICBzZXRNZXNzYWdlcyhtZXNzYWdlcylcbiAgICAgIH0pXG4gICAgfVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1ob29rcy9leGhhdXN0aXZlLWRlcHNcbiAgfSwgW3Byb3BzLmNoYW5uZWxJZF0pXG5cbiAgLy8gTmV3IG1lc3NhZ2UgcmVjZWl2ZWQgZnJvbSBQb3N0Z3Jlc1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChuZXdNZXNzYWdlICYmIG5ld01lc3NhZ2UuY2hhbm5lbF9pZCA9PT0gTnVtYmVyKHByb3BzLmNoYW5uZWxJZCkpIHtcbiAgICAgIGNvbnN0IGhhbmRsZUFzeW5jID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICBsZXQgYXV0aG9ySWQgPSBuZXdNZXNzYWdlLnVzZXJfaWRcbiAgICAgICAgaWYgKCF1c2Vycy5nZXQoYXV0aG9ySWQpKSBhd2FpdCBmZXRjaFVzZXIoYXV0aG9ySWQsICh1c2VyKSA9PiBoYW5kbGVOZXdPclVwZGF0ZWRVc2VyKHVzZXIpKVxuICAgICAgICBzZXRNZXNzYWdlcyhtZXNzYWdlcy5jb25jYXQobmV3TWVzc2FnZSkpXG4gICAgICB9XG4gICAgICBoYW5kbGVBc3luYygpXG4gICAgfVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1ob29rcy9leGhhdXN0aXZlLWRlcHNcbiAgfSwgW25ld01lc3NhZ2VdKVxuXG4gIC8vIERlbGV0ZWQgbWVzc2FnZSByZWNlaXZlZCBmcm9tIHBvc3RncmVzXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGRlbGV0ZWRNZXNzYWdlKSBzZXRNZXNzYWdlcyhtZXNzYWdlcy5maWx0ZXIoKG1lc3NhZ2UpID0+IG1lc3NhZ2UuaWQgIT09IGRlbGV0ZWRNZXNzYWdlLmlkKSlcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaG9va3MvZXhoYXVzdGl2ZS1kZXBzXG4gIH0sIFtkZWxldGVkTWVzc2FnZV0pXG5cbiAgLy8gTmV3IGNoYW5uZWwgcmVjZWl2ZWQgZnJvbSBQb3N0Z3Jlc1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChuZXdDaGFubmVsKSBzZXRDaGFubmVscyhjaGFubmVscy5jb25jYXQobmV3Q2hhbm5lbCkpXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0LWhvb2tzL2V4aGF1c3RpdmUtZGVwc1xuICB9LCBbbmV3Q2hhbm5lbF0pXG5cbiAgLy8gRGVsZXRlZCBjaGFubmVsIHJlY2VpdmVkIGZyb20gcG9zdGdyZXNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoZGVsZXRlZENoYW5uZWwpIHNldENoYW5uZWxzKGNoYW5uZWxzLmZpbHRlcigoY2hhbm5lbCkgPT4gY2hhbm5lbC5pZCAhPT0gZGVsZXRlZENoYW5uZWwuaWQpKVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1ob29rcy9leGhhdXN0aXZlLWRlcHNcbiAgfSwgW2RlbGV0ZWRDaGFubmVsXSlcblxuICAvLyBOZXcgb3IgdXBkYXRlZCB1c2VyIHJlY2VpdmVkIGZyb20gUG9zdGdyZXNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAobmV3T3JVcGRhdGVkVXNlcikgdXNlcnMuc2V0KG5ld09yVXBkYXRlZFVzZXIuaWQsIG5ld09yVXBkYXRlZFVzZXIpXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0LWhvb2tzL2V4aGF1c3RpdmUtZGVwc1xuICB9LCBbbmV3T3JVcGRhdGVkVXNlcl0pXG5cbiAgcmV0dXJuIHtcbiAgICAvLyBXZSBjYW4gZXhwb3J0IGNvbXB1dGVkIHZhbHVlcyBoZXJlIHRvIG1hcCB0aGUgYXV0aG9ycyB0byBlYWNoIG1lc3NhZ2VcbiAgICBtZXNzYWdlczogbWVzc2FnZXMubWFwKCh4KSA9PiAoeyAuLi54LCBhdXRob3I6IHVzZXJzLmdldCh4LnVzZXJfaWQpIH0pKSxcbiAgICBjaGFubmVsczogY2hhbm5lbHMgIT09IG51bGwgPyBjaGFubmVscy5zb3J0KChhLCBiKSA9PiBhLnNsdWcubG9jYWxlQ29tcGFyZShiLnNsdWcpKSA6IFtdLFxuICAgIHVzZXJzLFxuICB9XG59XG5cbi8qKlxuICogRmV0Y2ggYWxsIGNoYW5uZWxzXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBzZXRTdGF0ZSBPcHRpb25hbGx5IHBhc3MgaW4gYSBob29rIG9yIGNhbGxiYWNrIHRvIHNldCB0aGUgc3RhdGVcbiAqL1xuZXhwb3J0IGNvbnN0IGZldGNoQ2hhbm5lbHMgPSBhc3luYyAoc2V0U3RhdGUpID0+IHtcbiAgdHJ5IHtcbiAgICBsZXQgeyBkYXRhIH0gPSBhd2FpdCBzdXBhYmFzZS5mcm9tKCdjaGFubmVscycpLnNlbGVjdCgnKicpXG4gICAgaWYgKHNldFN0YXRlKSBzZXRTdGF0ZShkYXRhKVxuICAgIHJldHVybiBkYXRhXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5sb2coJ2Vycm9yJywgZXJyb3IpXG4gIH1cbn1cblxuLyoqXG4gKiBGZXRjaCBhIHNpbmdsZSB1c2VyXG4gKiBAcGFyYW0ge251bWJlcn0gdXNlcklkXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBzZXRTdGF0ZSBPcHRpb25hbGx5IHBhc3MgaW4gYSBob29rIG9yIGNhbGxiYWNrIHRvIHNldCB0aGUgc3RhdGVcbiAqL1xuZXhwb3J0IGNvbnN0IGZldGNoVXNlciA9IGFzeW5jICh1c2VySWQsIHNldFN0YXRlKSA9PiB7XG4gIHRyeSB7XG4gICAgbGV0IHsgZGF0YSB9ID0gYXdhaXQgc3VwYWJhc2UuZnJvbSgndXNlcnMnKS5zZWxlY3QoYCpgKS5lcSgnaWQnLCB1c2VySWQpXG4gICAgbGV0IHVzZXIgPSBkYXRhWzBdXG4gICAgaWYgKHNldFN0YXRlKSBzZXRTdGF0ZSh1c2VyKVxuICAgIHJldHVybiB1c2VyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5sb2coJ2Vycm9yJywgZXJyb3IpXG4gIH1cbn1cblxuLyoqXG4gKiBGZXRjaCBhbGwgbWVzc2FnZXMgYW5kIHRoZWlyIGF1dGhvcnNcbiAqIEBwYXJhbSB7bnVtYmVyfSBjaGFubmVsSWRcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IHNldFN0YXRlIE9wdGlvbmFsbHkgcGFzcyBpbiBhIGhvb2sgb3IgY2FsbGJhY2sgdG8gc2V0IHRoZSBzdGF0ZVxuICovXG5leHBvcnQgY29uc3QgZmV0Y2hNZXNzYWdlcyA9IGFzeW5jIChjaGFubmVsSWQsIHNldFN0YXRlKSA9PiB7XG4gIHRyeSB7XG4gICAgbGV0IHsgZGF0YSB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgIC5mcm9tKCdtZXNzYWdlcycpXG4gICAgICAuc2VsZWN0KGAqLCBhdXRob3I6dXNlcl9pZCgqKWApXG4gICAgICAuZXEoJ2NoYW5uZWxfaWQnLCBjaGFubmVsSWQpXG4gICAgICAub3JkZXIoJ2luc2VydGVkX2F0JywgeyBhc2NlbmRpbmc6IHRydWUgfSlcbiAgICBpZiAoc2V0U3RhdGUpIHNldFN0YXRlKGRhdGEpXG4gICAgcmV0dXJuIGRhdGFcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmxvZygnZXJyb3InLCBlcnJvcilcbiAgfVxufVxuXG4vKipcbiAqIEluc2VydCBhIG5ldyBjaGFubmVsIGludG8gdGhlIERCXG4gKiBAcGFyYW0ge3N0cmluZ30gc2x1ZyBUaGUgY2hhbm5lbCBuYW1lXG4gKiBAcGFyYW0ge251bWJlcn0gdXNlcl9pZCBUaGUgY2hhbm5lbCBjcmVhdG9yXG4gKi9cbmV4cG9ydCBjb25zdCBhZGRDaGFubmVsID0gYXN5bmMgKHNsdWcsIHVzZXJfaWQpID0+IHtcbiAgdHJ5IHtcbiAgICBsZXQgeyBkYXRhIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oJ2NoYW5uZWxzJylcbiAgICAgIC5pbnNlcnQoW3sgc2x1ZywgY3JlYXRlZF9ieTogdXNlcl9pZCB9XSlcbiAgICAgIC5zZWxlY3QoKVxuICAgIHJldHVybiBkYXRhXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5sb2coJ2Vycm9yJywgZXJyb3IpXG4gIH1cbn1cblxuLyoqXG4gKiBJbnNlcnQgYSBuZXcgbWVzc2FnZSBpbnRvIHRoZSBEQlxuICogQHBhcmFtIHtzdHJpbmd9IG1lc3NhZ2UgVGhlIG1lc3NhZ2UgdGV4dFxuICogQHBhcmFtIHtudW1iZXJ9IGNoYW5uZWxfaWRcbiAqIEBwYXJhbSB7bnVtYmVyfSB1c2VyX2lkIFRoZSBhdXRob3JcbiAqL1xuZXhwb3J0IGNvbnN0IGFkZE1lc3NhZ2UgPSBhc3luYyAobWVzc2FnZSwgY2hhbm5lbF9pZCwgdXNlcl9pZCkgPT4ge1xuICB0cnkge1xuICAgIGxldCB7IGRhdGEgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbSgnbWVzc2FnZXMnKVxuICAgICAgLmluc2VydChbeyBtZXNzYWdlLCBjaGFubmVsX2lkLCB1c2VyX2lkIH1dKVxuICAgICAgLnNlbGVjdCgpXG4gICAgcmV0dXJuIGRhdGFcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmxvZygnZXJyb3InLCBlcnJvcilcbiAgfVxufVxuXG4vKipcbiAqIERlbGV0ZSBhIGNoYW5uZWwgZnJvbSB0aGUgREJcbiAqIEBwYXJhbSB7bnVtYmVyfSBjaGFubmVsX2lkXG4gKi9cbmV4cG9ydCBjb25zdCBkZWxldGVDaGFubmVsID0gYXN5bmMgKGNoYW5uZWxfaWQpID0+IHtcbiAgdHJ5IHtcbiAgICBsZXQgeyBkYXRhIH0gPSBhd2FpdCBzdXBhYmFzZS5mcm9tKCdjaGFubmVscycpLmRlbGV0ZSgpLm1hdGNoKHsgaWQ6IGNoYW5uZWxfaWQgfSlcbiAgICByZXR1cm4gZGF0YVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUubG9nKCdlcnJvcicsIGVycm9yKVxuICB9XG59XG5cbi8qKlxuICogRGVsZXRlIGEgbWVzc2FnZSBmcm9tIHRoZSBEQlxuICogQHBhcmFtIHtudW1iZXJ9IG1lc3NhZ2VfaWRcbiAqL1xuZXhwb3J0IGNvbnN0IGRlbGV0ZU1lc3NhZ2UgPSBhc3luYyAobWVzc2FnZV9pZCkgPT4ge1xuICB0cnkge1xuICAgIGxldCB7IGRhdGEgfSA9IGF3YWl0IHN1cGFiYXNlLmZyb20oJ21lc3NhZ2VzJykuZGVsZXRlKCkubWF0Y2goeyBpZDogbWVzc2FnZV9pZCB9KVxuICAgIHJldHVybiBkYXRhXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5sb2coJ2Vycm9yJywgZXJyb3IpXG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsImNyZWF0ZUNsaWVudCIsInN1cGFiYXNlIiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTCIsIk5FWFRfUFVCTElDX1NVUEFCQVNFX0FOT05fS0VZIiwidXNlU3RvcmUiLCJwcm9wcyIsImNoYW5uZWxzIiwic2V0Q2hhbm5lbHMiLCJtZXNzYWdlcyIsInNldE1lc3NhZ2VzIiwidXNlcnMiLCJNYXAiLCJuZXdNZXNzYWdlIiwiaGFuZGxlTmV3TWVzc2FnZSIsIm5ld0NoYW5uZWwiLCJoYW5kbGVOZXdDaGFubmVsIiwibmV3T3JVcGRhdGVkVXNlciIsImhhbmRsZU5ld09yVXBkYXRlZFVzZXIiLCJkZWxldGVkQ2hhbm5lbCIsImhhbmRsZURlbGV0ZWRDaGFubmVsIiwiZGVsZXRlZE1lc3NhZ2UiLCJoYW5kbGVEZWxldGVkTWVzc2FnZSIsImZldGNoQ2hhbm5lbHMiLCJtZXNzYWdlTGlzdGVuZXIiLCJjaGFubmVsIiwib24iLCJldmVudCIsInNjaGVtYSIsInRhYmxlIiwicGF5bG9hZCIsIm5ldyIsIm9sZCIsInN1YnNjcmliZSIsInVzZXJMaXN0ZW5lciIsImNoYW5uZWxMaXN0ZW5lciIsInJlbW92ZUNoYW5uZWwiLCJjaGFubmVsSWQiLCJmZXRjaE1lc3NhZ2VzIiwiZm9yRWFjaCIsIngiLCJzZXQiLCJ1c2VyX2lkIiwiYXV0aG9yIiwiY2hhbm5lbF9pZCIsIk51bWJlciIsImhhbmRsZUFzeW5jIiwiYXV0aG9ySWQiLCJnZXQiLCJmZXRjaFVzZXIiLCJ1c2VyIiwiY29uY2F0IiwiZmlsdGVyIiwibWVzc2FnZSIsImlkIiwibWFwIiwic29ydCIsImEiLCJiIiwic2x1ZyIsImxvY2FsZUNvbXBhcmUiLCJzZXRTdGF0ZSIsImRhdGEiLCJmcm9tIiwic2VsZWN0IiwiZXJyb3IiLCJjb25zb2xlIiwibG9nIiwidXNlcklkIiwiZXEiLCJvcmRlciIsImFzY2VuZGluZyIsImFkZENoYW5uZWwiLCJpbnNlcnQiLCJjcmVhdGVkX2J5IiwiYWRkTWVzc2FnZSIsImRlbGV0ZUNoYW5uZWwiLCJkZWxldGUiLCJtYXRjaCIsImRlbGV0ZU1lc3NhZ2UiLCJtZXNzYWdlX2lkIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./lib/Store.js\n");

/***/ }),

/***/ "./lib/UserContext.js":
/*!****************************!*\
  !*** ./lib/UserContext.js ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n\nconst UserContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)();\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (UserContext);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvVXNlckNvbnRleHQuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQXFDO0FBRXJDLE1BQU1DLFdBQVcsaUJBQUdELG9EQUFhLEVBQUU7QUFFbkMsaUVBQWVDLFdBQVciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zdXBhYmFzZS1zbGFjay1jbG9uZS1iYXNpYy8uL2xpYi9Vc2VyQ29udGV4dC5qcz8wMmM5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZUNvbnRleHQgfSBmcm9tICdyZWFjdCdcblxuY29uc3QgVXNlckNvbnRleHQgPSBjcmVhdGVDb250ZXh0KClcblxuZXhwb3J0IGRlZmF1bHQgVXNlckNvbnRleHRcbiJdLCJuYW1lcyI6WyJjcmVhdGVDb250ZXh0IiwiVXNlckNvbnRleHQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./lib/UserContext.js\n");

/***/ }),

/***/ "./pages/_app.js":
/*!***********************!*\
  !*** ./pages/_app.js ***!
  \***********************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ SupabaseSlackClone)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _styles_style_scss__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ~/styles/style.scss */ \"./styles/style.scss\");\n/* harmony import */ var _styles_style_scss__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_styles_style_scss__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/router */ \"next/router\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var lib_UserContext__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lib/UserContext */ \"./lib/UserContext.js\");\n/* harmony import */ var lib_Store__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lib/Store */ \"./lib/Store.js\");\n/* harmony import */ var jwt_decode__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! jwt-decode */ \"jwt-decode\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([jwt_decode__WEBPACK_IMPORTED_MODULE_6__]);\njwt_decode__WEBPACK_IMPORTED_MODULE_6__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n\n\n\n\nfunction SupabaseSlackClone({ Component , pageProps  }) {\n    const { 0: userLoaded , 1: setUserLoaded  } = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const { 0: user , 1: setUser  } = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const { 0: session1 , 1: setSession  } = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const router = (0,next_router__WEBPACK_IMPORTED_MODULE_3__.useRouter)();\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{\n        function saveSession(/** @type {Awaited<ReturnType<typeof supabase.auth.getSession>>['data']['session']} */ session) {\n            setSession(session);\n            const currentUser = session === null || session === void 0 ? void 0 : session.user;\n            if (session) {\n                const jwt = (0,jwt_decode__WEBPACK_IMPORTED_MODULE_6__.jwtDecode)(session.access_token);\n                currentUser.appRole = jwt.user_role;\n            }\n            setUser(currentUser !== null && currentUser !== void 0 ? currentUser : null);\n            setUserLoaded(!!currentUser);\n            if (currentUser) {\n                router.push(\"/channels/[id]\", \"/channels/1\");\n            }\n        }\n        lib_Store__WEBPACK_IMPORTED_MODULE_5__.supabase.auth.getSession().then(({ data: { session  }  })=>saveSession(session)\n        );\n        const { subscription: authListener  } = lib_Store__WEBPACK_IMPORTED_MODULE_5__.supabase.auth.onAuthStateChange(async (event, session)=>{\n            console.log(session);\n            saveSession(session);\n        });\n        return ()=>{\n            authListener.unsubscribe();\n        };\n    }, []);\n    const signOut = async ()=>{\n        const { error  } = await lib_Store__WEBPACK_IMPORTED_MODULE_5__.supabase.auth.signOut();\n        if (!error) {\n            router.push(\"/\");\n        }\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(lib_UserContext__WEBPACK_IMPORTED_MODULE_4__[\"default\"].Provider, {\n        value: {\n            userLoaded,\n            user,\n            signOut\n        },\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Component, {\n            ...pageProps\n        }, void 0, false, {\n            fileName: \"/Users/ivan/Documents/new/chat/pages/_app.js\",\n            lineNumber: 61,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/ivan/Documents/new/chat/pages/_app.js\",\n        lineNumber: 54,\n        columnNumber: 5\n    }, this);\n};\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wYWdlcy9fYXBwLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQTRCO0FBQ3NCO0FBQ1g7QUFDRTtBQUNMO0FBQ0U7QUFFdkIsU0FBU08sa0JBQWtCLENBQUMsRUFBRUMsU0FBUyxHQUFFQyxTQUFTLEdBQUUsRUFBRTtJQUNuRSxNQUFNLEVBUlIsR0FRU0MsVUFBVSxHQVJuQixHQVFxQkMsYUFBYSxNQUFJViwrQ0FBUSxDQUFDLEtBQUssQ0FBQztJQUNuRCxNQUFNLEVBVFIsR0FTU1csSUFBSSxHQVRiLEdBU2VDLE9BQU8sTUFBSVosK0NBQVEsQ0FBQyxJQUFJLENBQUM7SUFDdEMsTUFBTSxFQVZSLEdBVVNhLFFBQU8sR0FWaEIsR0FVa0JDLFVBQVUsTUFBSWQsK0NBQVEsQ0FBQyxJQUFJLENBQUM7SUFDNUMsTUFBTWUsTUFBTSxHQUFHYixzREFBUyxFQUFFO0lBRTFCRCxnREFBUyxDQUFDLElBQU07UUFDZCxTQUFTZSxXQUFXLENBQ2xCLHNGQUFzRixDQUN0RkgsT0FBTyxFQUNQO1lBQ0FDLFVBQVUsQ0FBQ0QsT0FBTyxDQUFDO1lBQ25CLE1BQU1JLFdBQVcsR0FBR0osT0FBTyxhQUFQQSxPQUFPLFdBQU0sR0FBYkEsS0FBQUEsQ0FBYSxHQUFiQSxPQUFPLENBQUVGLElBQUk7WUFDakMsSUFBSUUsT0FBTyxFQUFFO2dCQUNYLE1BQU1LLEdBQUcsR0FBR2IscURBQVMsQ0FBQ1EsT0FBTyxDQUFDTSxZQUFZLENBQUM7Z0JBQzNDRixXQUFXLENBQUNHLE9BQU8sR0FBR0YsR0FBRyxDQUFDRyxTQUFTO2FBQ3BDO1lBQ0RULE9BQU8sQ0FBQ0ssV0FBVyxhQUFYQSxXQUFXLGNBQVhBLFdBQVcsR0FBSSxJQUFJLENBQUM7WUFDNUJQLGFBQWEsQ0FBQyxDQUFDLENBQUNPLFdBQVcsQ0FBQztZQUM1QixJQUFJQSxXQUFXLEVBQUU7Z0JBQ2ZGLE1BQU0sQ0FBQ08sSUFBSSxDQUFDLGdCQUFnQixFQUFFLGFBQWEsQ0FBQzthQUM3QztTQUNGO1FBRURsQiwrREFBd0IsRUFBRSxDQUFDcUIsSUFBSSxDQUFDLENBQUMsRUFBRUMsSUFBSSxFQUFFLEVBQUViLE9BQU8sR0FBRSxHQUFFLEdBQUtHLFdBQVcsQ0FBQ0gsT0FBTyxDQUFDO1FBQUEsQ0FBQztRQUVoRixNQUFNLEVBQUVjLFlBQVksRUFBRUMsWUFBWSxHQUFFLEdBQUd4QixzRUFBK0IsQ0FDcEUsT0FBTzBCLEtBQUssRUFBRWpCLE9BQU8sR0FBSztZQUN4QmtCLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDbkIsT0FBTyxDQUFDO1lBQ3BCRyxXQUFXLENBQUNILE9BQU8sQ0FBQztTQUNyQixDQUNGO1FBRUQsT0FBTyxJQUFNO1lBQ1hlLFlBQVksQ0FBQ0ssV0FBVyxFQUFFO1NBQzNCO0tBQ0YsRUFBRSxFQUFFLENBQUM7SUFFTixNQUFNQyxPQUFPLEdBQUcsVUFBWTtRQUMxQixNQUFNLEVBQUVDLEtBQUssR0FBRSxHQUFHLE1BQU0vQiw0REFBcUIsRUFBRTtRQUMvQyxJQUFJLENBQUMrQixLQUFLLEVBQUU7WUFDVnBCLE1BQU0sQ0FBQ08sSUFBSSxDQUFDLEdBQUcsQ0FBQztTQUNqQjtLQUNGO0lBRUQscUJBQ0UsOERBQUNuQixnRUFBb0I7UUFDbkJrQyxLQUFLLEVBQUU7WUFDTDVCLFVBQVU7WUFDVkUsSUFBSTtZQUNKdUIsT0FBTztTQUNSO2tCQUVELDRFQUFDM0IsU0FBUztZQUFFLEdBQUdDLFNBQVM7Ozs7O2dCQUFJOzs7OztZQUNQLENBQ3hCO0NBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zdXBhYmFzZS1zbGFjay1jbG9uZS1iYXNpYy8uL3BhZ2VzL19hcHAuanM/ZTBhZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgJ34vc3R5bGVzL3N0eWxlLnNjc3MnXG5pbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHsgdXNlUm91dGVyIH0gZnJvbSAnbmV4dC9yb3V0ZXInXG5pbXBvcnQgVXNlckNvbnRleHQgZnJvbSAnbGliL1VzZXJDb250ZXh0J1xuaW1wb3J0IHsgc3VwYWJhc2UgfSBmcm9tICdsaWIvU3RvcmUnXG5pbXBvcnQgeyBqd3REZWNvZGUgfSBmcm9tICdqd3QtZGVjb2RlJ1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBTdXBhYmFzZVNsYWNrQ2xvbmUoeyBDb21wb25lbnQsIHBhZ2VQcm9wcyB9KSB7XG4gIGNvbnN0IFt1c2VyTG9hZGVkLCBzZXRVc2VyTG9hZGVkXSA9IHVzZVN0YXRlKGZhbHNlKVxuICBjb25zdCBbdXNlciwgc2V0VXNlcl0gPSB1c2VTdGF0ZShudWxsKVxuICBjb25zdCBbc2Vzc2lvbiwgc2V0U2Vzc2lvbl0gPSB1c2VTdGF0ZShudWxsKVxuICBjb25zdCByb3V0ZXIgPSB1c2VSb3V0ZXIoKVxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgZnVuY3Rpb24gc2F2ZVNlc3Npb24oXG4gICAgICAvKiogQHR5cGUge0F3YWl0ZWQ8UmV0dXJuVHlwZTx0eXBlb2Ygc3VwYWJhc2UuYXV0aC5nZXRTZXNzaW9uPj5bJ2RhdGEnXVsnc2Vzc2lvbiddfSAqL1xuICAgICAgc2Vzc2lvblxuICAgICkge1xuICAgICAgc2V0U2Vzc2lvbihzZXNzaW9uKVxuICAgICAgY29uc3QgY3VycmVudFVzZXIgPSBzZXNzaW9uPy51c2VyXG4gICAgICBpZiAoc2Vzc2lvbikge1xuICAgICAgICBjb25zdCBqd3QgPSBqd3REZWNvZGUoc2Vzc2lvbi5hY2Nlc3NfdG9rZW4pXG4gICAgICAgIGN1cnJlbnRVc2VyLmFwcFJvbGUgPSBqd3QudXNlcl9yb2xlXG4gICAgICB9XG4gICAgICBzZXRVc2VyKGN1cnJlbnRVc2VyID8/IG51bGwpXG4gICAgICBzZXRVc2VyTG9hZGVkKCEhY3VycmVudFVzZXIpXG4gICAgICBpZiAoY3VycmVudFVzZXIpIHtcbiAgICAgICAgcm91dGVyLnB1c2goJy9jaGFubmVscy9baWRdJywgJy9jaGFubmVscy8xJylcbiAgICAgIH1cbiAgICB9XG5cbiAgICBzdXBhYmFzZS5hdXRoLmdldFNlc3Npb24oKS50aGVuKCh7IGRhdGE6IHsgc2Vzc2lvbiB9IH0pID0+IHNhdmVTZXNzaW9uKHNlc3Npb24pKVxuXG4gICAgY29uc3QgeyBzdWJzY3JpcHRpb246IGF1dGhMaXN0ZW5lciB9ID0gc3VwYWJhc2UuYXV0aC5vbkF1dGhTdGF0ZUNoYW5nZShcbiAgICAgIGFzeW5jIChldmVudCwgc2Vzc2lvbikgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhzZXNzaW9uKVxuICAgICAgICBzYXZlU2Vzc2lvbihzZXNzaW9uKVxuICAgICAgfVxuICAgIClcblxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBhdXRoTGlzdGVuZXIudW5zdWJzY3JpYmUoKVxuICAgIH1cbiAgfSwgW10pXG5cbiAgY29uc3Qgc2lnbk91dCA9IGFzeW5jICgpID0+IHtcbiAgICBjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLnNpZ25PdXQoKVxuICAgIGlmICghZXJyb3IpIHtcbiAgICAgIHJvdXRlci5wdXNoKCcvJylcbiAgICB9XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxVc2VyQ29udGV4dC5Qcm92aWRlclxuICAgICAgdmFsdWU9e3tcbiAgICAgICAgdXNlckxvYWRlZCxcbiAgICAgICAgdXNlcixcbiAgICAgICAgc2lnbk91dCxcbiAgICAgIH19XG4gICAgPlxuICAgICAgPENvbXBvbmVudCB7Li4ucGFnZVByb3BzfSAvPlxuICAgIDwvVXNlckNvbnRleHQuUHJvdmlkZXI+XG4gIClcbn1cbiJdLCJuYW1lcyI6WyJSZWFjdCIsInVzZVN0YXRlIiwidXNlRWZmZWN0IiwidXNlUm91dGVyIiwiVXNlckNvbnRleHQiLCJzdXBhYmFzZSIsImp3dERlY29kZSIsIlN1cGFiYXNlU2xhY2tDbG9uZSIsIkNvbXBvbmVudCIsInBhZ2VQcm9wcyIsInVzZXJMb2FkZWQiLCJzZXRVc2VyTG9hZGVkIiwidXNlciIsInNldFVzZXIiLCJzZXNzaW9uIiwic2V0U2Vzc2lvbiIsInJvdXRlciIsInNhdmVTZXNzaW9uIiwiY3VycmVudFVzZXIiLCJqd3QiLCJhY2Nlc3NfdG9rZW4iLCJhcHBSb2xlIiwidXNlcl9yb2xlIiwicHVzaCIsImF1dGgiLCJnZXRTZXNzaW9uIiwidGhlbiIsImRhdGEiLCJzdWJzY3JpcHRpb24iLCJhdXRoTGlzdGVuZXIiLCJvbkF1dGhTdGF0ZUNoYW5nZSIsImV2ZW50IiwiY29uc29sZSIsImxvZyIsInVuc3Vic2NyaWJlIiwic2lnbk91dCIsImVycm9yIiwiUHJvdmlkZXIiLCJ2YWx1ZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./pages/_app.js\n");

/***/ }),

/***/ "./styles/style.scss":
/*!***************************!*\
  !*** ./styles/style.scss ***!
  \***************************/
/***/ (() => {



/***/ }),

/***/ "@supabase/supabase-js":
/*!****************************************!*\
  !*** external "@supabase/supabase-js" ***!
  \****************************************/
/***/ ((module) => {

"use strict";
module.exports = require("@supabase/supabase-js");

/***/ }),

/***/ "next/router":
/*!******************************!*\
  !*** external "next/router" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/router");

/***/ }),

/***/ "react":
/*!************************!*\
  !*** external "react" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("react");

/***/ }),

/***/ "react/jsx-dev-runtime":
/*!****************************************!*\
  !*** external "react/jsx-dev-runtime" ***!
  \****************************************/
/***/ ((module) => {

"use strict";
module.exports = require("react/jsx-dev-runtime");

/***/ }),

/***/ "jwt-decode":
/*!*****************************!*\
  !*** external "jwt-decode" ***!
  \*****************************/
/***/ ((module) => {

"use strict";
module.exports = import("jwt-decode");;

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = (__webpack_exec__("./pages/_app.js"));
module.exports = __webpack_exports__;

})();